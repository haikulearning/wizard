/*! Wizard - v0.1.0 - 2013-10-09
* https://github.com/haikulearning/wizard
* Copyright (c) 2013 Riley; Licensed MIT */
!function(a,b,c){"use strict";function d(b,d){function e(){return b.find("[data-wizard-next-button]")}function f(){return b.find("[data-wizard-back-button]")}function g(){return b.find("[data-wizard-affects-nav]")}function h(){return b.find("[data-wizard-step]")}function i(){var a=j();if(a)d.displayValidations(a);else{var b=m();b?o(b):d.finish()}}function j(){var a,b=q[q.length-1],c=d.validations[b];return c&&(a=c()),a}function k(){var a=m();a===c?(e().val("Finish"),e().text("Finish")):(e().val("Next"),e().text("Next"))}function l(){q.length>1?f().removeClass("disabled"):f().addClass("disabled")}function m(){var a=q[q.length-1],b=d.mapToNextStep[a];return"function"==typeof b&&(b=b()),b}function n(){q.pop(),l(),p(q[q.length-1])}function o(a){q.push(a),l(),p(a)}function p(a){k(),h().fadeOut("fast").promise().then(function(){var c=b.find(a);c.fadeIn("fast"),c.attr("title")&&d.setTitle(c.attr("title"))})}var q=[];h().hide(),o(d.initialState),e().click(i),f().click(function(){a(this).hasClass("disabled")||n()}),g().on("change",k)}var e="wizard";a.fn[e]=function(b){var c=a.extend({},f,b);return this.each(function(){var b=a(this);b.data("plugin_"+e)||(b.data("plugin_"+e,!0),d(b,c))})};var f={displayValidations:function(a){b.alert(a)},setTitle:function(a){b.alert("Override this function to display the title ("+a+") of your data-wizard-step somewhere fancy.")},finish:function(){b.alert("Override this function to perform a final save action, close action, etc.")},validations:{}}}(jQuery,window);